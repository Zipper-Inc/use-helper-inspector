{"version":3,"sources":["../src/index.tsx"],"sourcesContent":["import React, { createContext, useContext, useEffect, useRef, useState } from 'react'\n\nexport interface InspectableComponent {\n  name: string\n  description: string\n}\ninterface HelpModeContextProps {\n  inspectableComponents: InspectableComponents\n  helpModeEnabled: boolean\n  inspectorEnabled: boolean\n  elementDescription: string | null\n  toggleHelpMode: () => void\n  toggleInspectorMode: () => void\n  setElementDescription: (description: string | null) => void\n  hoveredElement: string | null\n  setHoveredElement: React.Dispatch<React.SetStateAction<string | null>>\n}\n\nconst HelpModeContext = createContext<HelpModeContextProps | null>(null)\n\nexport interface InspectableComponents {\n  [key: string]: InspectableComponent\n}\n\nexport const useHelpMode = () => {\n  const context = useContext(HelpModeContext)\n  if (context === null) {\n    throw new Error('useHelpMode must be used within a HelpModeProvider')\n  }\n  return context\n}\n\nexport const useHelpBorder = () => {\n  const { helpModeEnabled, hoveredElement, setHoveredElement, setElementDescription, inspectableComponents } =\n    useHelpMode()\n\n  return {\n    style: (componentName: string) => ({\n      border: helpModeEnabled && hoveredElement === componentName ? '4px solid #E5BEEB' : '4px solid transparent',\n      boxSizing: 'border-box', // to prevent resizing of the elements when border is applied\n    }),\n    onMouseEnter: (componentName: string) => () => {\n      if (helpModeEnabled) {\n        setHoveredElement(componentName)\n        setElementDescription(inspectableComponents[componentName]?.description || null)\n      }\n    },\n    onMouseLeave: () => () => {\n      if (helpModeEnabled) {\n        setHoveredElement(null)\n        setElementDescription(null)\n      }\n    },\n  }\n}\n\ntype HelpModeProviderP = {\n  children: React.ReactNode\n  inspectableComponents: InspectableComponents\n}\nexport const HelpModeProvider = ({ children, inspectableComponents }: HelpModeProviderP) => {\n  const [helpModeEnabled, setHelpModeEnabled] = useState<boolean>(false)\n  const [inspectorEnabled, setInspectorEnabled] = useState<boolean>(false)\n  const [elementDescription, setElementDescription] = useState<string | null>(null)\n  const [hoveredElement, setHoveredElement] = useState<string | null>(null)\n\n  const toggleInspectorMode = () => {\n    setInspectorEnabled((prev) => !prev)\n  }\n\n  const justToggledRef = useRef(false)\n\n  function toggleHelpMode() {\n    justToggledRef.current = true\n    setHelpModeEnabled((prev) => !prev)\n  }\n\n  useEffect(() => {\n    const handleClickOutside = () => {\n      if (helpModeEnabled && !justToggledRef.current) {\n        toggleHelpMode()\n      }\n      justToggledRef.current = false\n    }\n\n    window.addEventListener('click', handleClickOutside)\n\n    return () => {\n      window.removeEventListener('click', handleClickOutside)\n    }\n  }, [helpModeEnabled])\n\n  return (\n    <HelpModeContext.Provider\n      value={{\n        helpModeEnabled,\n        inspectorEnabled,\n        elementDescription,\n        toggleHelpMode,\n        toggleInspectorMode,\n        setElementDescription,\n        hoveredElement,\n        setHoveredElement,\n        inspectableComponents,\n      }}\n    >\n      {children}\n    </HelpModeContext.Provider>\n  )\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAA8E;AAkB9E,IAAM,sBAAkB,4BAA2C,IAAI;AAMhE,IAAM,cAAc,MAAM;AAC/B,QAAM,cAAU,yBAAW,eAAe;AAC1C,MAAI,YAAY,MAAM;AACpB,UAAM,IAAI,MAAM,oDAAoD;AAAA,EACtE;AACA,SAAO;AACT;AAEO,IAAM,gBAAgB,MAAM;AACjC,QAAM,EAAE,iBAAiB,gBAAgB,mBAAmB,uBAAuB,sBAAsB,IACvG,YAAY;AAEd,SAAO;AAAA,IACL,OAAO,CAAC,mBAA2B;AAAA,MACjC,QAAQ,mBAAmB,mBAAmB,gBAAgB,sBAAsB;AAAA,MACpF,WAAW;AAAA;AAAA,IACb;AAAA,IACA,cAAc,CAAC,kBAA0B,MAAM;AAzCnD;AA0CM,UAAI,iBAAiB;AACnB,0BAAkB,aAAa;AAC/B,gCAAsB,2BAAsB,aAAa,MAAnC,mBAAsC,gBAAe,IAAI;AAAA,MACjF;AAAA,IACF;AAAA,IACA,cAAc,MAAM,MAAM;AACxB,UAAI,iBAAiB;AACnB,0BAAkB,IAAI;AACtB,8BAAsB,IAAI;AAAA,MAC5B;AAAA,IACF;AAAA,EACF;AACF;AAMO,IAAM,mBAAmB,CAAC,EAAE,UAAU,sBAAsB,MAAyB;AAC1F,QAAM,CAAC,iBAAiB,kBAAkB,QAAI,uBAAkB,KAAK;AACrE,QAAM,CAAC,kBAAkB,mBAAmB,QAAI,uBAAkB,KAAK;AACvE,QAAM,CAAC,oBAAoB,qBAAqB,QAAI,uBAAwB,IAAI;AAChF,QAAM,CAAC,gBAAgB,iBAAiB,QAAI,uBAAwB,IAAI;AAExE,QAAM,sBAAsB,MAAM;AAChC,wBAAoB,CAAC,SAAS,CAAC,IAAI;AAAA,EACrC;AAEA,QAAM,qBAAiB,qBAAO,KAAK;AAEnC,WAAS,iBAAiB;AACxB,mBAAe,UAAU;AACzB,uBAAmB,CAAC,SAAS,CAAC,IAAI;AAAA,EACpC;AAEA,8BAAU,MAAM;AACd,UAAM,qBAAqB,MAAM;AAC/B,UAAI,mBAAmB,CAAC,eAAe,SAAS;AAC9C,uBAAe;AAAA,MACjB;AACA,qBAAe,UAAU;AAAA,IAC3B;AAEA,WAAO,iBAAiB,SAAS,kBAAkB;AAEnD,WAAO,MAAM;AACX,aAAO,oBAAoB,SAAS,kBAAkB;AAAA,IACxD;AAAA,EACF,GAAG,CAAC,eAAe,CAAC;AAEpB,SACE,6BAAAA,QAAA;AAAA,IAAC,gBAAgB;AAAA,IAAhB;AAAA,MACC,OAAO;AAAA,QACL;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA;AAAA,IAEC;AAAA,EACH;AAEJ;","names":["React"]}